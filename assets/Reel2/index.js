System.register("chunks:///Reel2.js",["./_rollupPluginModLoBabelHelpers-4a72ac95.js","cc"],(function(){"use strict";var t,e,i,n,o,r,s,a,h,c,u,l,p,v,g,m,f,d,y;return{setters:[function(r){t=r.a,e=r.d,i=r.c,n=r._,o=r.b},function(t){r=t.cclegacy,s=t._decorator,a=t.systemEvent,h=t.SystemEvent,c=t.Vec3,u=t.Component,l=t.Node,p=t.Camera,v=t.Animation,g=t.Vec2,m=t.geometry,f=t.PhysicsSystem,d=t.SpriteFrame,y=t.Sprite}],execute:function(){var T;r._RF.push({},"04a36aaCHVMH4m+wF3ctp/w","Reel2Touch",void 0);var x,M,C,w,E,S=s.ccclass;s.property,S("Reel2Touch")(T=function(n){function o(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r))||this,e(i(t),"leftX",-22),e(i(t),"rightX",22),e(i(t),"reelMargin",2),e(i(t),"speed",.006),e(i(t),"touching",!1),t}t(o,n);var r=o.prototype;return r.start=function(){a.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),a.on(h.EventType.TOUCH_START,this.onTouchStart,this),a.on(h.EventType.TOUCH_END,this.onTouchEnd,this)},r.onTouchStart=function(t){this.touching=!0},r.onTouchMove=function(t){var e=new c(this.node.position);e.x>this.rightX&&t.getDelta().x<0?e.x-=t.getDelta().x*Math.pow((this.rightX+this.reelMargin-e.x)/this.reelMargin,2)*this.speed:e.x<this.leftX&&t.getDelta().x>0?e.x-=t.getDelta().x*Math.pow((Math.abs(this.leftX-this.reelMargin)+e.x)/this.reelMargin,2)*this.speed:e.x-=t.getDelta().x*this.speed,this.node.position=e},r.onTouchEnd=function(t){this.touching=!1},r.update=function(t){this.touching||this.backToLimit(t)},r.backToLimit=function(t){var e=new c(this.node.position);e.x>this.rightX?e.x-=this.reelMargin*t*(e.x-this.rightX)*2+.5*this.reelMargin*t:e.x<this.leftX&&(e.x+=this.reelMargin*t*Math.abs(e.x-this.leftX)*2+.5*this.reelMargin*t),this.node.position=e},o}(u));r._RF.pop(),r._RF.push({},"5ae925c8CRGErL4l7q9h0OG","TouchMgr2",void 0);var b,F,R,_,D,H=s.ccclass,X=s.property;x=H("TouchMgr2"),M=X({type:l}),x((E=n((w=function(n){function r(){for(var t,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t=n.call.apply(n,[this].concat(s))||this,o(i(t),"Card",E,i(t)),e(i(t),"vec3",new c),e(i(t),"targetFov",68),e(i(t),"rawFov",63),e(i(t),"touching",!1),e(i(t),"camera",void 0),e(i(t),"speed",.2),e(i(t),"touchDeltaTime",100),e(i(t),"touchTime",void 0),e(i(t),"horizonMagrin",7),e(i(t),"cardAnim",void 0),t}t(r,n);var s=r.prototype;return s.start=function(){this.camera=this.node.getChildByName("Main Camera").getComponent(p),this.cardAnim=this.Card.getComponent(v),a.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),a.on(h.EventType.TOUCH_START,this.onTouchStart,this),a.on(h.EventType.TOUCH_END,this.onTouchEnd,this)},s.onTouchStart=function(t){var e=new Date;this.touchTime=e.getTime(),this.touching=!0},s.onTouchEnd=function(t){var e=new Date;if(this.touchDeltaTime=e.getTime()-this.touchTime,this.touching=!1,this.touchDeltaTime<150){var i=new g;t.getLocationInView(i),this.clickHandler(i)}},s.clickHandler=function(t){var e=new m.Ray;if(this.camera.screenPointToRay(t.x,640-t.y,e),f.instance.raycastClosest(e)){var i=f.instance.raycastClosestResult.collider;console.log(i.name),"Item1<BoxCollider>"==i.name&&this.cardAnim.play("Canvas")}},s.onTouchMove=function(t){this.moveCamera(t.getDelta())},s.update=function(t){this.touchFov(t)},s.touchFov=function(t){if(this.touching){var e=this.camera.fov+(this.targetFov-this.camera.fov)*t*7;this.camera.fov=e}else{e=this.camera.fov+(this.rawFov-this.camera.fov)*t*7;this.camera.fov=e}},s.moveCamera=function(t){this.vec3=this.node.eulerAngles,this.vec3.x>0&&(t.y<0?this.vec3.x-=t.y*this.speed*Math.pow((10-this.vec3.x)/10,3):this.vec3.x-=t.y*this.speed),this.vec3.x<=0&&(t.y>0?this.vec3.x-=t.y*this.speed*Math.pow((10-Math.abs(this.vec3.x))/10,3):this.vec3.x-=t.y*this.speed),this.vec3.x>this.horizonMagrin?this.vec3.x=this.horizonMagrin:this.vec3.x<-this.horizonMagrin&&(this.vec3.x=-this.horizonMagrin),this.vec3.y+=t.x*this.speed/2,this.node.setRotationFromEuler(this.vec3)},r}(u)).prototype,"Card",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=w));r._RF.pop(),r._RF.push({},"8fb87J113lP+bqvrcvuEzXS","CanvasMgr",void 0);var A=s.ccclass,O=s.property;b=A("CanvasMgr"),F=O({type:d}),b((D=n((_=function(n){function r(){for(var t,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t=n.call.apply(n,[this].concat(s))||this,o(i(t),"frame",D,i(t)),e(i(t),"sprite",void 0),e(i(t),"counter",0),t}t(r,n);var s=r.prototype;return s.start=function(){this.sprite=this.node.getChildByName("Sprite").getComponent(y)},s.changeSprite=function(){switch(this.counter){case 0:this.sprite.spriteFrame=this.frame;break;case 1:this.hideSprite()}this.counter++,this.counter>=2&&(this.counter=0)},s.hideSprite=function(){this.node.getChildByName("Sprite").active=!1},r}(u)).prototype,"frame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=_));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/Reel2', 'chunks:///Reel2.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});